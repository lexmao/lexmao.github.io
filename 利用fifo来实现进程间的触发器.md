#####利用fifo来实现进程间的触发器
***
  
  
######需求的提出

&nbsp;&nbsp;&nbsp;&nbsp;在同一台服务器上的不同(可能无亲源关系)进程之间需要同步的操作,
比如某一个进程A的输入来源于另<br>外一个进程B的输出,那么A进程怎么知道B进程是否已经准备好数据呢? 在实现一个消息队列的时候,客户<br>端进程怎么知道消息队列中是否已经有可以取走的消息了呢?

基本于以上需求我们寻求解决方案.

######解决方案
&nbsp;&nbsp;&nbsp;&nbsp;我们期望的行为是：没有数据的时候操作系统能够堵塞在某一点,而不应该是不断轮询去刺探是否有数据.<br>这里涉及到堵塞,那就和句柄有关系了,我们了解一下FIFO的特点.

     FIFO是一种进程通信机制，它突破通常管道无法进行无关进程之间的通信的限制，使得同一主机内的所有的进程都可以通信。我们可以使用open、read、write来操作FIFO文件，从而实现进程间通信的目的从FIFO中读取数据。          
    
     约定：如果一个进程为了从FIFO中读取数据而阻塞打开了FIFO，那么称该进程内的读操作为设置了阻塞标志的读操作。如果一个进程为了向FIFO中写入数据而阻塞打开FIFO，那么称该进程内的写操作为设置了阻塞标志的写操作。


当设置了阻塞标志的读操作后，导致读堵塞的条件：

1. 有进程写打开FIFO，且当前FIFO为空

2. 没有进程写打开FIFO

满足以上任何一条件，该读操作将一直阻塞下去。

直到有数据可以读时才继续执行；

      对于没有设置阻塞标志的读操作来说，则返回0个字节，当前errno值为EAGAIN，提醒以后再试。


解阻塞的原因是：

*FIFO中有新的数据写入，不论写入数据量的大小，也不论读操作请求多少数据量，只要有数据写入即可。*

        读打开的阻塞标志只对本进程第一个读操作施加作用，如果本进程中有多个读操作序列，则在第一个读操作被唤醒并完成读操作后，其它将要执行的读操作将不再阻塞，即使在执行读操作时，FIFO中没有数据也一样（此时，读操作返回0）。

        如果FIFO中有数据，则设置了阻塞标志的读操作不会因为FIFO中的字节数少于请求的字节数而阻塞，此时，读操作会返回FIFO中现有的数据量。从FIFO中写入数据


