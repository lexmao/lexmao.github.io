<!DOCTYPE html>
<HTML>
<HEAD>
<TITLE>ReadAI, Let's play...</TITLE>

<META NAME="description" CONTENT="人工智能新闻，人工智能资讯，人工智能动态，人工智能趋势,AI, ReadAI,readai.me,RatioClub,StoneLi" />
<META NAME="application-name" content="ReadAI" />
<LINK REL="SHORTCUT ICON" HREF="/img/favicon.ico" />
<link rel="image_src" href="/images/iicon.gif" />
<link rel="apple-touch-icon" href="/images/iicon.gif" />




<SCRIPT TYPE="text/javascript">
<!--
function getBgColor(e) {
if (e.currentStyle)
return e.currentStyle.backgroundColor;
if (window.getComputedStyle) {
var eStyle=window.getComputedStyle(e,'');
if (eStyle)
return eStyle.getPropertyValue('background-color');
}
return '#ffffff';
}
function hacky_grayscale (c) {
if (c.substr(0, 4) === 'rgb(') {
return c.substr(4).split(',',1)[0];
} else if (c.substr(0,1) === '#') {
return parseInt(c.substr(1,2), 16);
}
return 255;
}
var h_t;
var h_e;
var hoc;
var hog;
var hor;
function h(id,phase) {
if (id) {
unh();
h_e = document.getElementById(id);
hoc = getBgColor(h_e);
hog = hacky_grayscale(hoc);
hor = 'rgb('+hog+','+hog+',';
h(0,1);
} else if (phase < 6) {
h_e.style.backgroundColor=hor+(hog-phase*16)+')';
h_t = setTimeout('h(0,'+(phase+1)+')',100);
} else if (phase < 12) {
h_e.style.backgroundColor=hor+(hog-6*16+(phase-6)*16)+')';
var tms = 100;
if (phase == 6) { tms = 1000; }
h_t = setTimeout('h(0,'+(phase+1)+')',tms);
} else if (phase == 12) {
h_e.style.backgroundColor = hoc;
h_t=null;
}
}
function unh(id,phase) {
if (h_t != null) {
clearTimeout(h_t);
h_e.style.backgroundColor = hoc;
}
}
function hhash() {
var a=location.hash;
if (a) {
var i=a.substring(1);
var je = document.getElementById(i);
if (je) {
je.scrollIntoView();
h(i);
}
}
}
// -->
</SCRIPT>
<STYLE TYPE="text/css" MEDIA="all">
/* http://meyerweb.com/eric/tools/css/reset/ 
   v2.0 | 20110126
   License: none (public domain)
*/
html, body, div, span, applet, object, iframe,
h1, h2, h3, h4, h5, h6, p, blockquote, pre,
a, abbr, acronym, address, big, cite, code,
del, dfn, em, img, ins, kbd, q, s, samp,
small, strike, strong, sub, sup, tt, var,
b, u, i, center,
dl, dt, dd, ol, ul, li,
fieldset, form, label, legend,
table, caption, tbody, tfoot, thead, tr, th, td,
article, aside, canvas, details, embed, 
figure, figcaption, footer, header, hgroup, 
menu, nav, output, ruby, section, summary,
time, mark, audio, video {
    margin: 0;
    padding: 0;
    border: 0;
    font-size: 100%;
    font: inherit;
    vertical-align: baseline;
}
/* HTML5 display-role reset for older browsers */
article, aside, details, figcaption, figure, 
footer, header, hgroup, menu, nav, section {
    display: block;
}
body {
    line-height: 1;
}
ol, ul {
    list-style: none;
}
blockquote, q {
    quotes: none;
}
blockquote:before, blockquote:after,
q:before, q:after {
    content: '';
    content: none;
}
table {
    border-collapse: collapse;
    border-spacing: 0;
}
input, select, textarea{font:inherit;}
/* end css reset */

body { font-family: Optima, "Microsoft Sans Serif", sans-serif; }
.ii strong {font-family: Optima, "Trebuchet MS", sans-serif;}
.drhed {font-family: Optima, "Trebuchet MS", sans-serif;}
cite {font-family: Optima, "Trebuchet MS", sans-serif;}
.nfdl {font-family: Optima, "Trebuchet MS", sans-serif;}
.navbar {font-family: Optima, "Century Gothic", sans-serif;}
.prenavbar {font-family: Optima, "Century Gothic", sans-serif;}
H2 {font-family: Optima, "Trebuchet MS", sans-serif;}
H3 {font-family: Optima, "Trebuchet MS", sans-serif;}

b {font-weight:bold}
i {font-style:italic}

body {margin:0 auto 0 auto; max-width:84em;min-width:61em;font-size:0.89em} /* max-width was 76em */
body {line-height:130%;}
body .item {line-height:140%;}
.pagecont {margin-bottom:2.5em;}

A:link {text-decoration:none;}
A:visited {text-decoration:none;}

.ed A {position:relative;z-index:10;}
.ed A:hover {z-index:1}
CITE {position:relative;z-index:10;}
.item .di CITE {font-size:0.93em}
.item CITE {font-size:1em}
CITE {font-size:0.93em}

.ed STRONG A:link {color:#004068;}
.ed STRONG A:visited {color:#804068;}
.ed .maincol .item A:link {color:#003890;}
.ed .maincol .item A:visited {color:#703690;}
.ed .maincol .item A.nvc:visited {color:#003890;}
.ed A:link {color:#003860;}
.ed A:visited {color:#703660;}
.ed A.nvc:visited {color:#003860;}
.ed A:hover {text-decoration:underline;background:#d0e8f4}
.ed CITE {font-weight:bold;font-style:normal;}
.ed CITE {color:#707080;}
.ed CITE A:link {color:#707080;}
.ed CITE A:visited {color:#707080;}

.cnvl {text-align: center;}
.ed .cnvl A:visited {color:#003860;}

H3 {font-weight:bold;color:#455;font-size:1.15em;padding:0.4em 0 0.2em;}
H2 {font-weight:bold;color:#455;font-size:1.3em;padding:0.7em 0 0.4em;}
#topcol1 H2 {padding-left:1.55em;} /* to compensate for itc1 */
#botcol1 H2 {padding-left:1.55em;} /* to compensate for itc1 */
#botcol2 H2 {padding-left:1.55em;} /* to compensate for itc1 */

.drhed {color:#306038;font-weight:bold;padding-right:0.3em;}
.moreat {background:#efd;padding:0 0.2em;border-bottom:solid 1px #ded;white-space: nowrap}
.new {margin-left:1em;background:#a56;color:#fff;padding:1px 3px 0 4px;font-weight:bold;font-size:0.8em;position:relative;top:-0.2em;border-top:solid 1px #ecc;border-bottom:solid 1px #945;letter-spacing:1px}

.ago {color:#444;font-size:0.9em;padding-top:0.8em;}
#topcol3 A.nfdl {font-weight:bold;margin-right:1em;line-height:1.2em}
#topcol3 A:visited {color:#003860;}
#topcol3 A.nfdl:visited {color:#703660;}
#topcol3 .fromsis A {margin:0;}
.fromsis {padding:3em 0}
#topcol3 .fromsis H2 {padding-bottom:1.5em;}
#topcol3 a.f {color:#555}
#topcol3 a.f:hover {color:#555}

p {padding-bottom: 0.7em;}
p A {font-weight: bold;}

strong {font-weight:bold;font-size:1.2em;line-height:1.15em}
.L1 {font-size:1.3em;}
.L2 {font-size:1.4em;}
.L3 {font-size:1.5em;letter-spacing:-0.01em;}
.L4 {font-size:1.7em;letter-spacing:-0.02em;}
.L5 {font-size:1.9em;letter-spacing:-0.03em;}
.item {padding-top:0.9em;padding-bottom:0.9em;clear:both;}
.clus {padding-bottom:0.5em;}
.item {border-bottom:solid 1px #ccc;}
.item:after {content: ""; display: block; height: 0; clear: both;} /* to prevent item images from chopping item borders */
.dbpt {padding-top:0.4em;} 
.dbptb {padding:0.4em 0 0.4em;} 
.di {margin-left:1em;}
.last {border:none;}
.relitems {margin-bottom:1em;}
.itc1 {padding-left:2em;}
.relitems .itc1 {padding-left:4em;}
.prenavbar {margin-left:2em;} /* due to itc1 */
.navbar {margin-left:2em;} /* due to itc1 */
.pagecont {margin-right:2em;} /* due to itc1 */

.itc2 {margin-left:-1em;padding-left:1em;margin-right:-1em;padding-right:1em;} /* to give h() highlights padding, since itc1 is too big, and doing this to item leads to bottom borders too long */

.ill {float:right;padding:0.1em 0 0.5em 0.5em;}

#topcol1 {float:left;width:50%;margin-top:1em;padding-right:1%;}
#topcol23 {float:left;width:47.4%;margin-left:1.5%;}
#topcol2 {float:left;width:66%;margin-top:1em;}
#sponsors {padding:0 1em 1em;background:#f4f4f4;}
#arch {padding:0 1em 1em;background:#f4f4f4;}
#topcol3 {float:right;width:32%;margin-top:1em;margin-left:1.9%;}
#botcol1 {float:left;width:46.9%;padding-right:1%;margin-bottom:2em;margin-top:1em;}
#botcol2 {float:left;width:46.9%;padding-left:1%;margin-bottom:2em;margin-top:1em;}
.quartercol {float:left;width:24.9%;}
.abotcols {clear:both;width:97.5%;border-bottom:solid 2px #e8e8e8;margin-left:2.5%;padding-top:1em;margin-bottom:1em}

.rsp { background:#f4f4f4;margin:-0.45em;padding:0.45em}
.rsp .item { border:none }
.rspd {color:#777;font-weight:bold;font-size:0.9em;text-align:right;text-transform:uppercase;}

.topllinks {margin-top:0em;}
.topllinks A {padding-right:1.2em;}
.toprlinks {float:right;margin-top:0em;}
.toprlinks A {padding-left:1.2em;}
.toplbut {float:left;padding-right:1.2em;margin-top:-1px}
.toprbut {float:right;padding-left:1.2em;width:60px;height:30px;} /* pixels prevent sliding on Firefox, but ugh, still some rendering issues */
.prenavbar A {font-size:0.85em;color:#777;}
.prenavbar .logobox A {padding-left:0}
.prenavbar A:link {color:#777;}
.prenavbar A:visited {color:#777;}
.prenavbar A:hover {text-decoration:underline;color:#000;}

.navbar {background:#174a61;text-transform:uppercase;clear:both;line-height:1.5em;font-size:0.85em;}
.navbar img {position:relative;top:2px}
.navtabs span.iamhere A {background:#578aa1;color:#fff;}
.navtabs span.iamhere A:visited {color:#fff}
.navtabs A {padding:0.12em 0.7em;}
.navtabs A:link {color:#ddd;}
.navtabs A:visited {color:#ddd;}
.navtabs A:hover {background:#578aa1;color:#fff;}

.sisnav {float:right;} /* background:#465; for contrast with left */
.sisnav A:link {color:#ddd;}
.sisnav A:visited {color:#ddd;}
.sisnav A:hover {color:#fff;} /* background:#796 for contrast with left */

.logotab {width:100%;}
.logotab td {vertical-align:middle}
.logotab td {width:33%}
td.logobox {padding:3.1em 0 0.7em}
td.datebox {text-align:center;color:#444}
td.datebox A {padding-left:0.5em;font-weight:bold}
td.searchbox {text-align:right}
.dtbi {color:#555;line-height:1.3em;}
#dateform input {width:14.5em;border: 1px solid #ccc;border-radius:3px;-webkit-border-radius:3px;-moz-border-radius:3px}
.sbti {width:10.5em;border: 1px solid #ccc;border-radius:3px;-webkit-border-radius:3px;-moz-border-radius:3px}

#hiring {margin:6em 0;padding: 0.6em 0 0.6em 0.6em;border:solid 1px #ccc;border-bottom:solid 1px #ccc;border-radius:3px;-webkit-border-radius:3px;-moz-border-radius:3px}
#hiring .cnvl {padding-top:1em;}
.cosp A:link {color:#000;}
.cosp A:visited {color:#000;}
.cosp A:hover {color:#000;}
.cosp A {padding:1px}
.cosp img {position:relative;top:2px;width:16px}
.cosp span {font-weight:bold;}
.cosp {padding-top:0.3em;padding-bottom:0.3em}
.cosp {text-indent:-1.6em;padding-left:1.6em;}
/* to make text not wrap:  white-space: nowrap; http://www.quirksmode.org/css/textoverflow.html */

.dxd {position:absolute;margin-left:-1.6em}
.dxd table {height:100%}
.dxd {border:solid 1px #ccc;border-radius:3px;-webkit-border-radius:3px;-moz-border-radius:3px;background:#f4f4f4}
.dxd:hover {border-color:#78a}
.dxcol {padding:7px;background:url(/images/arrd.png) no-repeat center}
.dxcol.up {background:url(/images/arru.png) no-repeat center}
.exm {margin-top:1em;}
.ed .exm a {border:solid 1px #ccc;border-radius:3px;-webkit-border-radius:3px;-moz-border-radius:3px;background:#f4f4f4;color:#777;padding:0.1em 0.3em;text-decoration:none;}
.ed .exm a:hover {border-color:#78a}

/* river and lb */
#sponsors .item {border:none;}
#arch .item {border:none;}
/* river */
#river_timeline {float:left;width:67%;margin: 1em 1.9% 1em 0;}
#river_timeline strong {font-size:1em;padding-left:0.5em;}
#river_timeline tr > td:first-child { width:6em;text-align:right; }
#river_timeline tr > td:first-child + td { padding-left:1.5em; text-indent:-1em }
#river_timeline td {padding-bottom:0.4em;}
#river_timeline H2 { padding: 1.5em 0 1em; }
#river_sponsors_hiring #hiring {margin-top:2em;}
#river_sponsors_hiring {float:right;width:31%; margin-top:1em}
#river_sponsors_hiring H2 { padding-top: 1.5em; }
#river_sponsors_hiring #hiring H2 { padding-top: 0.7em; }
/* lb */
#lb_maincol  {float:left;width:64%;margin: 1em 1.9% 1em 0;}
#lb_rightcol {float:right;width:34%; margin-top:1em}
#lb_rightcol #hiring {margin-top:2em;}
#lb_rightcol #sponsors {margin-top:2em;}
.lbtable {padding:1.5em 1em 1em 0}
.lbtable td {padding:0.2em 0.5em 0.1em;border-left:1px #aaa dotted;border-top:1px #aaa dotted}
.lbtable tr > td:first-child {border-left:none}
.lbtable tr > td:first-child {text-align:center}
.lbh td {border-top:none}
.lbtable tr > td:first-child + td {width:12em}
.lbh {font-weight:bold;color:#455;font-size:1.08em;}
/* share */
#topcol23 .ii {padding-top:0.5em} /* to match padding under cite from shrtbl where there is no shrtbl */
#topcol23 H2 {padding-bottom:0.7em} /* due to padding from sharetable */

.shrtbl {
    width:100%;
}

.shrtbl tr > td:first-child {
    vertical-align:middle;
}

.shrtbl tr > td:first-child + td {
    text-align:right;
    white-space:nowrap;
    min-width:124px;
    vertical-align:middle;
}

.shrtbl tr > td:first-child + td a {
    text-decoration:none !important;
}

.shrtbl td {
    height:26px;
}

.shrpml {
    float:right;
    width:31px;
}

.shrpmlimg {
    background:white url('/img/shr.png') no-repeat 0 0;
    width:28px;
    height:20px;
    float:right;
}

.shrpmlimg:hover {
    background:url('/images/shr.png') no-repeat 0 -20px !important;
}

.shrfb {
    float:right;
    width:52px;
}

.shrfbifr {
    border:none;
    overflow:hidden; 
    width:48px;
    height:22px;
}

.shrrt {
    float:right;
    width:41px;
}

.shrrtimg {
    background:white url('/images/shr.png') no-repeat -28px 0;
    width:37px;
    height:20px;
    float:right;
}

.shrrtimg:hover {
    background:white url('/images/shr.png') no-repeat -28px -20px !important;
}

/* end share*/

.maincol {float:left;width:66%;margin:1em 1.9% 1em 0;}
.rightcol {float:right;width:31%;margin-top:2em}
.dt_pl_l {padding:0 0 1em;color:#777;}
.t2011 td {padding-right:0.5em;}
.rightcol .item {padding-left:3em;text-indent:-3em}
</STYLE>
</HEAD>
<BODY ONLOAD="hhash()">
<DIV STYLE="display:none"><INPUT TYPE="checkbox" ID="nwcb"></DIV>
<div class="pagecont">
<DIV CLASS="prenavbar">
<table class="logotab"><tr><td class="logobox">
<A HREF="/"><IMG SRC="/images/logo.png" ALT="ReadAI"></A>
</td><td id="datebox" class="datebox"></td><td class="searchbox">
</td></tr></table>
</DIV> <!--end prenavbar-->


<DIV CLASS="navbar">
<DIV CLASS="navtabs">
<SPAN CLASS=""><A HREF="/ai.html" TITLE="ReadAI top page">值得关注</A></SPAN>
<SPAN CLASS=""><A HREF="/today.html" TITLE="ReadAI's news page">最新资讯</A></SPAN>
<SPAN CLASS="iamhere"><A HREF="/play.html" TITLE="ReadAI's play page">有趣的AI</A></SPAN>


</DIV>
</DIV>
<DIV CLASS="ed">
<DIV CLASS="maincol">
<DIV CLASS="itc1">




<DIV CLASS="item">
<H2>用R-CNN统计小狗数量</H2>

<DIV CLASS="dt_pl_l">
Posted June 13, 2017 by <span style="font-weight:bold;color:#131">ReadAI</span> &nbsp; &nbsp; <A CLASS="nvc" HREF="/ai_projects/003.html">Permalink</A>
</DIV>

<p></p>



<p>我们的目标是利用机器学习技术来实时统计视频中每个画面上目标物体的数量，比如当前画面中有多少个人，多少辆车、多少条小狗等。
这过程中，通常采用把视频分解成多个图片，然后针对每张图片来处理上面的问题，所以，我们简化问题为：

<h5>利用什么样的技术，能够尽量精准地统计出下面这张图片上有多少条狗？</h5></p>
<p><img src="http://readai.me/ai_projects/smail-dog.jpg" alt="" width="480" /></p>



<h3 name="1612" id="1612" class="graf--h3 graf-after--p">挑战是什么</h3><p></p>
<p>挑战是什么？</p>
<p>

1，精准。这是第一个挑战。虽然已经存在很多针对视频或图像来进行目标统计的方法，但是在精准度上，目前没有一个比较好的解决方案。<br>
2，目前对于图像识别，最好的方式是采用CNN网络神经方面的技术。这要求有大量的、有品质的图片作为训练数据集。这是一个普遍存在的挑战。<br>
3，要统计的目标类型不确定，比如，可以是人，可以是一棵树，可以是一辆车，一只狗。这对训练模型是一个巨大的挑战。<br>
4，图片中目标体之间的重叠、遮挡等因素影响统计精确度。<br>
5，目标体清晰度、大小等因素 <br>
6，高速运动过程中的目标体及拥挤的目标体，这些因素要进行统计更是挑战。<br>
7，在一张静态的图片上进行识别统计和对一个视频的每个画面进行实时识别和统计也有很大的差别。</p>

<p>
<p>
要找到一个通用的技术解决方案来同时解决以上问题和挑战，是非常困难的，甚至不可能实现。<br>
所以，我们针对下面这个具体的情景来提出一种解决方案。<br>
</p>


<p>
1，街道上的某一个瞬间 <br>
2，这个瞬间中，可能同时存在多种目标体：人，车… <br>
3，不太拥挤，目标体之间尽量不要重叠  <br>
</p>

<p>
类似如下的情景：
</p>


</p>
<p><img src="http://readai.me/ai_projects/street.jpg" alt="" width="480" /></p>


<p>
解决方案
<p>

<p>在深度学习领域，有一个非常有意思的模型R-CNN(Region based Convolutional Neural Network)，可以用来识别图片上的目标
并对目标进行定位。本例中利用Keras 来实现和执行这个模型。</p>

先看一下执行的效果（目标名称后面的数字是识别的概率）：

<p><img src="http://readai.me/ai_projects/test03.jpg" alt="" width="640" /></p>

<p>看到，我们的程序识别出了图片中的8个人。特别是最左边阴暗的地方都能准确识别。但是对于重叠的、远处的人，程序
并没有识别出来。再测试一张：</p>

<p><img src="http://readai.me/ai_projects/test01.jpg" alt="" width="640" /></p>

<p>看到了吗，只要不重叠，目标不是太小，程序的识别和统计精度还是不错的，特别是远处的小船都被正确识别，非常好。</p>

<p>具体是怎么做到的？</p>

<p>核心是识别并定位目标的速度和精度。在这方面，在标准R-CNN网络基础上，采用了一种Fast／Faster的技术，这些技术在R-CNN上进行了创新，
提升训练和测试速度以及识别统计的精度。标准的R-CNN版本，采用一种多级策略（multi-stage）来处理，比如先探测目标的边界，然后再进行识别。
这严重影响了速度，特别是在实时视频处理上。而 Fast R-CNN采用单级(single-stage)训练算法，对目标进行分类及目标定为都在一个处理层级进行。
更快的Faster R-CNN引入RPN(Region Proposal Network)，探测网络与全图像卷积特征进行共享，实现了几乎无成本的区域提案（Region Proposal ）。
</p> 

<p>具体的实现可以参看下面的链接代码。</p>

<p>我们在看看一些最后实现的结果。</p>
<p>
<img src="http://readai.me/ai_projects/test02.jpg" alt="" width="320" />
<img src="http://readai.me/ai_projects/test04.jpg" alt="" width="320" />
</p>
<p>通过一双鞋子，识别出人物。</p>

<p>
<img src="http://readai.me/ai_projects/test05.jpg" alt="" width="320" />
<img src="http://readai.me/ai_projects/test08.jpg" alt="" width="320" />
</p>
<p>识别和统计到2只小鸟。</p>
<p>
<img src="http://readai.me/ai_projects/test09.jpg" alt="" width="320" />
<img src="http://readai.me/ai_projects/test11.jpg" alt="" width="320" />
</p>






<h3 name="1612" id="1612" class="graf--h3 graf-after--p">项目和代码相关技术论文链接:</h3><p></p>
<p>Github Repo <a href="https://github.com/softberries/keras-frcnn">softberries/keras-frcnn</a></p>
<p>Fast R-CNN paper <a href="http://www.cv-foundation.org/openaccess/content_iccv_2015/papers/Girshick_Fast_R-CNN_ICCV_2015_paper.pdf">Ross Girshick</a></p>
<p>Faster R-CNN paper <a href="https://arxiv.org/pdf/1506.01497.pdf">Shaoqing Ren, Kaiming He, Ross Girshick, and Jian Sun</a></p>


</DIV>



</DIV><!--end itc1-->
</DIV><!--end maincol-->
<DIV class="rightcol">
<DIV id="arch">
<H2>那些有趣的AI项目</H2>

<DIV CLASS="item">
<H2>2017.6</H2>
<DIV CLASS="titem"><DIV STYLE="float:left; width:3em;">6/13</DIV> <A HREF="/ai_projects/003.html">用R-CNN统计小狗数量</A></DIV>


</DIV>


<DIV CLASS="item">
<H2>2017.5</H2>
<DIV CLASS="titem"><DIV STYLE="float:left; width:3em;">5/25</DIV> <A HREF="/ai_projects/001.html">Teaching Machines to Draw - 教机器学习画画</A></DIV>
<DIV CLASS="titem"><DIV STYLE="float:left; width:3em;">5/5</DIV> <A HREF="/ai_projects/002.html">看AI怎么玩flappy birds</A></DIV>


</DIV>



</DIV><!--arch-->
</DIV><!--end rightcol-->

</DIV><!--end ed-->

<DIV CLASS="navbar">
<DIV CLASS="navtabs">
<A HREF="/" TITLE="RatioClub copyright">© 2017 RatioClub. All rights reserved. </A>
<SPAN CLASS=""><A HREF="mailto:info@ratioclub.net" TITLE="Contact us">联系我</A></SPAN>
</DIV>
</DIV>

</div> <!--end pagecont-->
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-433897-4");
pageTracker._trackPageview();
} catch(err) {}
</script>
</BODY>
</HTML>


